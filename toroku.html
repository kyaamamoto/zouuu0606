<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>新規会員登録</title>
    <!-- ファビコン -->
    <link rel="icon" type="image/png" href="./img/favicon.ico">
    <link rel="stylesheet" href="https://unpkg.com/ress@4.0.0/dist/ress.min.css">
    <link rel="stylesheet" href="./css/style copy 2.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
    <!-- 以下目玉アイコン -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
          integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
    <div id="wrap">
        
        <img src="./img/ZOUUUbanner.png" alt="zouuu">
        
        <h1>新規会員登録</h1>
        <p>まだ「ZOUUUに会員登録されていない方」は、<br>こちらの画面より会員登録をお願いします。</p>

        <!-- <div id="block100">
            <div id="block20">
                <div class="parts-title">姓
                    <input type="text" placeholder="（例）山田" >
                </div>
                <div class="parts-title">名
                <input type="text" placeholder="（例）太郎"></div>
            </div>

            <div id="block21">
                <div class="parts-title">姓（かな）
                    <input type="text" placeholder="（例）やまだ" >
                </div>
                <div class="parts-title">名（かな）
                <input type="text" placeholder="（例）たろう"></div></div>
    
            </div> -->

            　　　　<!-- 空欄 -->
            <div id="block101">

                <div id="block22">
                    <div class="parts-title">
                       <label for="email">メールアドレス</label>
                        <input id="email" type="text" placeholder="（例）zouuu@mail.com" >
                    </div>
                    <div class="parts-title">
                        <label for="password">パスワード</label>
                        <div class="input-container">
                            <input id="password" type="password" placeholder="">
                            <i id="eye" class="fa-regular fa-eye"></i>
                        </div>
                    </div>
                </div>

            </div>

            　　　　<!-- 空欄 -->
            <!-- <div id="block102">
            <div id="block23">
                <div class="parts-title">現住所（都道府県）
                    <input type="" placeholder="選択してください" >
                </div>
                <div class="parts-title">現住所（市町村）
                <input type="text" placeholder=""></div></div>
            </div> -->

            <div id="block24">
                <button id="registerButton">登録する</button>
                <button id="backButton"><a href="./index.html" class="back">戻る</a></button>
            </div>
        </div>

   
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

    
        <script type="module">
            // Import the functions you need from the SDKs you need
            
            // Firebaseを使うための準備
            import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";

            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
            import { getAuth, signInWithPopup, GoogleAuthProvider, signOut, onAuthStateChanged, createUserWithEmailAndPassword }
                            from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
            import { getFirestore } 
                from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
              apiKey: "",
              authDomain: "",
              projectId: "",
              storageBucket: "",
              messagingSenderId: "",
              appId: ""
            };

            // Firebase初期化
        const app = initializeApp(firebaseConfig); //鍵をつくる
        const auth = getAuth(app); //認証する→鍵穴に入れる

        // 登録ボタンのクリックイベント
        document.addEventListener('DOMContentLoaded', () => {                    //addEventListener('DOMContentLoaded' => ページが全部読み込まれたら下に記載のある内容をやってね。
            document.getElementById('registerButton').addEventListener('click', () => {
                const email = document.getElementById('email').value;
                const password = document.getElementById('password').value;

                createUserWithEmailAndPassword(auth, email, password)
                    .then((userCredential) => {
                        // 登録成功
                        const user = userCredential.user;
                        alert('登録が完了しました');
                        $("#email").val("");
                        $("#password").val("");
                    })
                    .catch((error) => {
                        const errorCode = error.code;
                        const errorMessage = error.message;
                        alert('エラーが発生しました: ' + errorMessage);

        
            

                    });
            });
        });

          </script>
    
    <script>
        let eye = document.getElementById("eye");
eye.addEventListener('click', function () {
     if (this.previousElementSibling.getAttribute('type') == 'password') {
          this.previousElementSibling.setAttribute('type', 'text');
          this.classList.toggle('fa-eye');
          this.classList.toggle('fa-eye-slash');
     } else {
          this.previousElementSibling.setAttribute('type', 'password');
          this.classList.toggle('fa-eye');
          this.classList.toggle('fa-eye-slash');
     }
})
    </script>





</body>
</html>